/* **********************************************
     Begin jquery.tmpl.min.js
********************************************** */(function(e){function c(t,n,r,o){var u={data:o||(n?n.data:{}),_wrap:n?n._wrap:null,tmpl:null,parent:n||null,nodes:[],calls:b,nest:w,wrap:E,html:S,update:x};t&&e.extend(u,t,{nodes:[],parent:n});if(r){u.tmpl=r;u._ctnt=u._ctnt||u.tmpl(e,u);u.key=++a;(l.length?s:i)[a]=u}return u}function h(t,r,i){var s,o=i?e.map(i,function(e){return typeof e=="string"?t.key?e.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+n+'="'+t.key+'" $2'):e:h(e,t,e._ctnt)}):t;if(r)return o;o=o.join("");o.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(t,n,r,i){s=e(r).get();y(s);n&&(s=p(n).concat(s));i&&(s=s.concat(p(i)))});return s?s:p(o)}function p(t){var n=document.createElement("div");n.innerHTML=t;return e.makeArray(n.childNodes)}function d(t){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+e.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(t,n,r,i,s,o,u){var a=e.tmpl.tag[r],f,l,c;if(!a)throw"Template command not found: "+r;f=a._default||[];if(o&&!/\w$/.test(s)){s+=o;o=""}if(s){s=m(s);u=u?","+m(u)+")":o?")":"";l=o?s.indexOf(".")>-1?s+o:"("+s+").call($item"+u:s;c=o?l:"(typeof("+s+")==='function'?("+s+").call($item):("+s+"))"}else c=l=f.$1||"null";i=m(i);return"');"+a[n?"close":"open"].split("$notnull_1").join(s?"typeof("+s+")!=='undefined' && ("+s+")!=null":"true").split("$1a").join(c).split("$1").join(l).split("$2").join(i?i.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,function(e,t,n,r){r=r?","+r+")":n?")":"";return r?"("+t+").call($item"+r:e}):f.$2||"")+"_.push('"})+"');}return _;")}function v(t,n){t._wrap=h(t,!0,e.isArray(n)?n:[r.test(n)?n:e(n).html()]).join("")}function m(e){return e?e.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function g(e){var t=document.createElement("div");t.appendChild(e.cloneNode(!0));return t.innerHTML}function y(t){function v(t){function v(e){e+=r;p=l[e]=l[e]||c(p,i[p.parent.key+r]||p.parent,null,!0)}var o,u=t,h,p,d;if(d=t.getAttribute(n)){while(u.parentNode&&(u=u.parentNode).nodeType===1&&!(o=u.getAttribute(n)));if(o!==d){u=u.parentNode?u.nodeType===11?0:u.getAttribute(n)||0:0;if(!(p=i[d])){p=s[d];p=c(p,i[u]||s[u],null,!0);p.key=++a;i[a]=p}f&&v(d)}t.removeAttribute(n)}else if(f&&(p=e.data(t,"tmplItem"))){v(p.key);i[p.key]=p;u=e.data(t.parentNode,"tmplItem");u=u?u.key:0}if(p){h=p;while(h&&h.key!=u){h.nodes.push(t);h=h.parent}delete p._ctnt;delete p._wrap;e.data(t,"tmplItem",p)}}var r="_"+f,o,u,l={},h,p,d;for(h=0,p=t.length;h<p;h++){if((o=t[h]).nodeType!==1)continue;u=o.getElementsByTagName("*");for(d=u.length-1;d>=0;d--)v(u[d]);v(o)}}function b(e,t,n,r){if(!e)return l.pop();l.push({_:e,tmpl:t,item:this,data:n,options:r})}function w(t,n,r){return e.tmpl(e.template(t),n,r,this)}function E(t,n){var r=t.options||{};r.wrapped=n;return e.tmpl(e.template(t.tmpl),t.data,r,t.item)}function S(t,n){var r=this._wrap;return e.map(e(e.isArray(r)?r.join(""):r).filter(t||"*"),function(e){return n?e.innerText||e.textContent:e.outerHTML||g(e)})}function x(){var t=this.nodes;e.tmpl(null,null,null,this).insertBefore(t[0]);e(t).remove()}var t=e.fn.domManip,n="_tmplitem",r=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,i={},s={},o,u={key:0,data:{}},a=0,f=0,l=[];e.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,n){e.fn[t]=function(r){var s=[],u=e(r),a,l,c,h,p=this.length===1&&this[0].parentNode;o=i||{};if(p&&p.nodeType===11&&p.childNodes.length===1&&u.length===1){u[n](this[0]);s=this}else{for(l=0,c=u.length;l<c;l++){f=l;a=(l>0?this.clone(!0):this).get();e.fn[n].apply(e(u[l]),a);s=s.concat(a)}f=0;s=this.pushStack(s,t,u.selector)}h=o;o=null;e.tmpl.complete(h);return s}});e.fn.extend({tmpl:function(t,n,r){return e.tmpl(this[0],t,n,r)},tmplItem:function(){return e.tmplItem(this[0])},template:function(t){return e.template(t,this[0])},domManip:function(n,r,s){if(n[0]&&n[0].nodeType){var u=e.makeArray(arguments),a=n.length,l=0,c;while(l<a&&!(c=e.data(n[l++],"tmplItem")));a>1&&(u[0]=[e.makeArray(n)]);c&&f&&(u[2]=function(t){e.tmpl.afterManip(this,t,s)});t.apply(this,u)}else t.apply(this,arguments);f=0;!o&&e.tmpl.complete(i);return this}});e.extend({tmpl:function(t,n,r,o){var a,f=!o;if(f){o=u;t=e.template[t]||e.template(null,t);s={}}else if(!t){t=o.tmpl;i[o.key]=o;o.nodes=[];o.wrapped&&v(o,o.wrapped);return e(h(o,null,o.tmpl(e,o)))}if(!t)return[];typeof n=="function"&&(n=n.call(o||{}));r&&r.wrapped&&v(r,r.wrapped);a=e.isArray(n)?e.map(n,function(e){return e?c(r,o,t,e):null}):[c(r,o,t,n)];return f?e(h(o,null,a)):a},tmplItem:function(t){var n;t instanceof e&&(t=t[0]);while(t&&t.nodeType===1&&!(n=e.data(t,"tmplItem"))&&(t=t.parentNode));return n||u},template:function(t,n){if(n){typeof n=="string"?n=d(n):n instanceof e&&(n=n[0]||{});n.nodeType&&(n=e.data(n,"tmpl")||e.data(n,"tmpl",d(n.innerHTML)));return typeof t=="string"?e.template[t]=n:n}return t?typeof t!="string"?e.template(null,t):e.template[t]||e.template(null,r.test(t)?t:e(t)):null},encode:function(e){return(""+e).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});e.extend(e.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){i={}},afterManip:function(t,n,r){var i=n.nodeType===11?e.makeArray(n.childNodes):n.nodeType===1?[n]:[];r.call(t,n);y(i);f++}})})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,r,i){return jQuery.easing[jQuery.easing.def](e,t,n,r,i)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t==0?n:t==i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i)==1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t==0)return n;if((t/=i/2)==2)return n+r;o||(o=i*.3*1.5);if(u<Math.abs(r)){u=r;var s=o/4}else var s=o/(2*Math.PI)*Math.asin(r/u);return t<1?-0.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){s==undefined&&(s=1.70158);return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){s==undefined&&(s=1.70158);return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){s==undefined&&(s=1.70158);return(t/=i/2)<1?r/2*t*t*(((s*=1.525)+1)*t-s)+n:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-jQuery.easing.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){return t<i/2?jQuery.easing.easeInBounce(e,t*2,0,r,i)*.5+n:jQuery.easing.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}});(function(e,t,n){t.fn.touchwipe=function(e){var n={min_move_x:20,min_move_y:20,wipeLeft:function(){},wipeRight:function(){},wipeUp:function(){},wipeDown:function(){},preventDefaultEvents:!0};e&&t.extend(n,e);this.each(function(){function i(){this.removeEventListener("touchmove",s);e=null;r=!1}function s(s){n.preventDefaultEvents&&s.preventDefault();if(r){var o=s.touches[0].pageX,u=s.touches[0].pageY,a=e-o,f=t-u;if(Math.abs(a)>=n.min_move_x){i();a>0?n.wipeLeft():n.wipeRight()}else if(Math.abs(f)>=n.min_move_y){i();f>0?n.wipeDown():n.wipeUp()}}}function o(n){if(n.touches.length==1){e=n.touches[0].pageX;t=n.touches[0].pageY;r=!0;this.addEventListener("touchmove",s,!1)}}var e,t,r=!1;"ontouchstart"in document.documentElement&&this.addEventListener("touchstart",o,!1)});return this};t.elastislide=function(e,n){this.$el=t(n);this._init(e)};t.elastislide.defaults={speed:450,easing:"",imageW:190,margin:3,border:2,minItems:1,current:0,onClick:function(){return!1}};t.elastislide.prototype={_init:function(e){this.options=t.extend(!0,{},t.elastislide.defaults,e);this.$slider=this.$el.find("ul");this.$items=this.$slider.children("li");this.itemsCount=this.$items.length;this.$esCarousel=this.$slider.parent();this._validateOptions();this._configure();this._addControls();this._initEvents();this.$slider.show();this._slideToCurrent(!1)},_validateOptions:function(){this.options.speed<0&&(this.options.speed=450);this.options.margin<0&&(this.options.margin=4);this.options.border<0&&(this.options.border=1);if(this.options.minItems<1||this.options.minItems>this.itemsCount)this.options.minItems=1;this.options.current>this.itemsCount-1&&(this.options.current=0)},_configure:function(){this.current=this.options.current;this.visibleWidth=this.$esCarousel.width();if(this.visibleWidth<this.options.minItems*(this.options.imageW+2*this.options.border)+(this.options.minItems-1)*this.options.margin){this._setDim((this.visibleWidth-(this.options.minItems-1)*this.options.margin)/this.options.minItems);this._setCurrentValues();this.fitCount=this.options.minItems}else{this._setDim();this._setCurrentValues()}this.$slider.css({width:this.sliderW})},_setDim:function(e){this.$items.css({marginRight:this.options.margin,width:e?e:this.options.imageW+2*this.options.border}).children("a").css({borderWidth:this.options.border})},_setCurrentValues:function(){this.itemW=this.$items.outerWidth(!0);this.sliderW=this.itemW*this.itemsCount;this.visibleWidth=this.$esCarousel.width();this.fitCount=Math.floor(this.visibleWidth/this.itemW)},_addControls:function(){this.$navNext=t('<span class="nav-next">Next</span>');this.$navPrev=t('<span class="nav-prev">Previous</span>');t('<div class="nav"/>').append(this.$navPrev).append(this.$navNext).appendTo(this.$el)},_toggleControls:function(e,t){e&&t?t===1?e==="right"?this.$navNext.show():this.$navPrev.show():e==="right"?this.$navNext.hide():this.$navPrev.hide():(this.current===this.itemsCount-1||this.fitCount>=this.itemsCount)&&this.$navNext.hide()},_initEvents:function(){var n=this;t(e).on("resize.elastislide",function(e){n._reload();clearTimeout(n.resetTimeout);n.resetTimeout=setTimeout(function(){n._slideToCurrent()},200)});this.$navNext.on("click.elastislide",function(e){n._slide("right")});this.$navPrev.on("click.elastislide",function(e){n._slide("left")});this.$slider.on("click.elastislide","li",function(e){n.options.onClick(t(this));return!1});n.$slider.touchwipe({wipeLeft:function(){n._slide("right")},wipeRight:function(){n._slide("left")}})},reload:function(e){this._reload();e&&e.call()},_reload:function(){var e=this;e._setCurrentValues();if(e.visibleWidth<e.options.minItems*(e.options.imageW+2*e.options.border)+(e.options.minItems-1)*e.options.margin){e._setDim((e.visibleWidth-(e.options.minItems-1)*e.options.margin)/e.options.minItems);e._setCurrentValues();e.fitCount=e.options.minItems}else{e._setDim();e._setCurrentValues()}e.$slider.css({width:e.sliderW+10})},_slide:function(e,r,i,s){var o=parseFloat(this.$slider.css("margin-left"));if(r===n){var u=this.fitCount*this.itemW,r;if(u<0)return!1;if(e==="right"&&this.sliderW-(Math.abs(o)+u)<this.visibleWidth){u=this.sliderW-(Math.abs(o)+this.visibleWidth)-this.options.margin;this._toggleControls("right",-1);this._toggleControls("left",1)}else if(e==="left"&&Math.abs(o)-u<0){u=Math.abs(o);this._toggleControls("left",-1);this._toggleControls("right",1)}else{var a;e==="right"?a=Math.abs(o)+this.options.margin+Math.abs(u):a=Math.abs(o)-this.options.margin-Math.abs(u);a>0?this._toggleControls("left",1):this._toggleControls("left",-1);a<this.sliderW-this.visibleWidth?this._toggleControls("right",1):this._toggleControls("right",-1)}e==="right"?r="-="+u:r="+="+u}else{var a=Math.abs(r);if(Math.max(this.sliderW,this.visibleWidth)-a<this.visibleWidth){r=-(Math.max(this.sliderW,this.visibleWidth)-this.visibleWidth);r!==0&&(r+=this.options.margin);this._toggleControls("right",-1);a=Math.abs(r)}a>0?this._toggleControls("left",1):this._toggleControls("left",-1);Math.max(this.sliderW,this.visibleWidth)-this.visibleWidth>a+this.options.margin?this._toggleControls("right",1):this._toggleControls("right",-1)}t.fn.applyStyle=i===n?t.fn.animate:t.fn.css;var f={marginLeft:r},l=this;this.$slider.stop().applyStyle(f,t.extend(!0,[],{duration:this.options.speed,easing:this.options.easing,complete:function(){s&&s.call()}}))},_slideToCurrent:function(e){var t=this.current*this.itemW;this._slide("",-t,e)},add:function(e,t){this.$items=this.$items.add(e);this.itemsCount=this.$items.length;this._setDim();this._setCurrentValues();this.$slider.css({width:this.sliderW});this._slideToCurrent();t&&t.call(e)},setCurrent:function(e,t){this.current=e;var n=Math.abs(parseFloat(this.$slider.css("margin-left"))),r=n+this.visibleWidth,i=Math.abs(this.current*this.itemW);(i+this.itemW>r||i<n)&&this._slideToCurrent();t&&t.call()},destroy:function(e){this._destroy(e)},_destroy:function(n){this.$el.off(".elastislide").removeData("elastislide");t(e).off(".elastislide");n&&n.call()}};var r=function(e){this.console&&console.error(e)};t.fn.elastislide=function(e){if(typeof e=="string"){var n=Array.prototype.slice.call(arguments,1);this.each(function(){var i=t.data(this,"elastislide");if(!i){r("cannot call methods on elastislide prior to initialization; attempted to call method '"+e+"'");return}if(!t.isFunction(i[e])||e.charAt(0)==="_"){r("no such method '"+e+"' for elastislide instance");return}i[e].apply(i,n)})}else this.each(function(){var n=t.data(this,"elastislide");n||t.data(this,"elastislide",new t.elastislide(e,this))});return this}})(window,jQuery);$(function(){$.fn.imagesLoaded=function(e){function s(){e.call(r,t)}function o(){if(--n<=0&&this.src!==i){setTimeout(s);t.off("load error",o)}}var t=this.find("img"),n=t.length,r=this,i="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";n||s();t.on("load error",o).each(function(){if(this.complete||this.complete===undefined){var e=this.src;this.src=i;this.src=e}});return this};var e=$("#gallery"),t=e.find(".carousel-wrapper"),n=t.find("ul > li"),r=n.length;Gallery=function(){var i=0,s="carousel",o=!1,u=function(){n.add('<img src="../_css/assets/ajax-loader.gif"/>').imagesLoaded(function(){f();l();h(n.eq(i))});s==="carousel"&&a()},a=function(){t.show().elastislide({imageW:65,onClick:function(e){if(o)return!1;o=!0;h(e);i=e.index()}});t.elastislide("setCurrent",i)},f=function(){var n=$('<a href="#" class="rg-view-full"></a>'),r=$('<a href="#" class="rg-view-thumbs rg-view-selected"></a>');e.prepend($('<div class="rg-view"/>').append(n).append(r));n.on("click.rgGallery",function(e){s==="carousel"&&t.elastislide("destroy");t.hide();n.addClass("rg-view-selected");r.removeClass("rg-view-selected");s="fullview";return!1});r.on("click.rgGallery",function(e){a();r.addClass("rg-view-selected");n.removeClass("rg-view-selected");s="carousel";return!1});s==="fullview"&&n.trigger("click")},l=function(){$("#img-wrapper-tmpl").tmpl({itemsCount:r}).appendTo(e);if(r>1){var t=e.find(".prev"),n=e.find(".next"),i=e.find(".image");t.on("click.rgGallery",function(e){c("left");return!1});n.on("click.rgGallery",function(e){c("right");return!1});i.touchwipe({wipeLeft:function(){c("right")},wipeRight:function(){c("left")},preventDefaultEvents:!1});$(document).on("keyup.rgGallery",function(e){e.keyCode==39?c("right"):e.keyCode==37&&c("left")})}},c=function(e){if(o)return!1;o=!0;e==="right"?i+1>=r?i=0:++i:e==="left"&&(i-1<0?i=r-1:--i);h(n.eq(i))},h=function(r){var u=e.find("div.loading").show();n.removeClass("selected");r.addClass("selected");var a=r.find("img"),f=a.data("large"),l=a.data("description");$("<img/>").load(function(){e.find("div.image").empty().append('<img src="'+f+'"/>');l&&e.find("div.caption").show().children("p").empty().text(l);u.hide();if(s==="carousel"){t.elastislide("reload");t.elastislide("setCurrent",i)}o=!1}).attr("src",f)},p=function(e){t.find("ul").append(e);n=n.add($(e));r=n.length;t.elastislide("add",e)};return{init:u,addItems:p}}();Gallery.init()});